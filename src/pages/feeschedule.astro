---
import Layout from '../layouts/HomeLayout.astro';
import Footer from '../components/Footer.astro';
import Header from '../components/Header.astro';
import ParticleBG from "../components/ParticleBG.astro";

---
<Layout title="Fee Schedule | Antarman">
    <Header />
    <ParticleBG />

    <main class="relative">
        <div class="absolute inset-0 bg-gradient-to-b from-purple-900/50 via-purple-800/30 to-transparent"></div>
        <div class="relative z-10">
            <div class="container mx-auto px-6 py-16 text-center md:py-20 lg:px-0 lg:py-28">
                <h1 class="text-5xl font-extrabold leading-tight text-white md:text-6xl lg:text-7xl">
                    Fee Schedule
                </h1>
                <p class="mx-auto mt-6 max-w-3xl text-xl text-purple-100 md:text-2xl">
                    Transparent pricing for quality mental healthcare. View our comprehensive fee structure and find the right care plan for you.
                </p>
            </div>
        </div>
      
    </main>
    
    <main class="container mx-auto p-4" id="main-content">
        
        

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
            {[...Array(11)].map((_, index) => {
                const doctors = [
                    {name: "Dr. Sarah Johnson", image: "/doctor1.jpg", fees: {
                        consultation: {
                            standard: "$150",
                            extended: "$200",
                            hourly: "$80",
                            notes: "Includes initial assessment and treatment plan"
                        },
                        therapy: {
                            standard: "$200",
                            group: "$100",
                            family: "$250",
                            notes: "CBT and psychotherapy sessions available"
                        },
                        homeVisit: {
                            standard: "$300",
                            emergency: "$400",
                            weekend: "$350",
                            notes: "Available within 20km radius"
                        },
                        medicalReport: {
                            basic: "$250",
                            detailed: "$400",
                            legal: "$600",
                            notes: "Processing time 3-5 business days"
                        },
                        assessment: {
                            psychological: "$350",
                            psychiatric: "$400",
                            comprehensive: "$600",
                            notes: "Includes written evaluation"
                        },
                        followUp: {
                            brief: "$100",
                            standard: "$150",
                            extended: "$200",
                            notes: "Regular monitoring and medication review"
                        },
                        telehealth: {
                            brief: "$80",
                            standard: "$120",
                            emergency: "$200",
                            notes: "24/7 availability for registered patients"
                        },
                        workshops: {
                            group: "$50",
                            individual: "$150",
                            corporate: "$1000",
                            notes: "Mindfulness and stress management sessions"
                        }
                    }},
                    {name: "Dr. Michael Chen", image: "/doctor2.jpg", fees: {
                        consultation: {
                            standard: "$160",
                            extended: "$220", 
                            hourly: "$90",
                            notes: "Specializes in anxiety and depression"
                        },
                        therapy: {
                            standard: "$180",
                            group: "$90",
                            family: "$240",
                            notes: "Expertise in cognitive behavioral therapy"
                        },
                        homeVisit: {
                            standard: "$320",
                            emergency: "$420",
                            weekend: "$370",
                            notes: "Available for elderly patients"
                        },
                        medicalReport: {
                            basic: "$270",
                            detailed: "$420",
                            legal: "$620",
                            notes: "Includes digital copies"
                        },
                        assessment: {
                            psychological: "$370",
                            psychiatric: "$420",
                            comprehensive: "$620",
                            notes: "Specialized in trauma assessment"
                        },
                        followUp: {
                            brief: "$110",
                            standard: "$160",
                            extended: "$210",
                            notes: "Includes medication adjustments"
                        },
                        telehealth: {
                            brief: "$85",
                            standard: "$125",
                            emergency: "$210",
                            notes: "Available for international patients"
                        },
                        workshops: {
                            group: "$55",
                            individual: "$160",
                            corporate: "$1100",
                            notes: "Stress management and resilience training"
                        }
                    }},
                    {name: "Dr. Emily Rodriguez", image: "/doctor3.jpg", fees: {
                        consultation: {
                            standard: "$140",
                            extended: "$190",
                            hourly: "$75",
                            notes: "Child and adolescent specialist"
                        },
                        therapy: {
                            standard: "$190",
                            group: "$95",
                            family: "$230",
                            notes: "Play therapy available"
                        },
                        homeVisit: {
                            standard: "$290",
                            emergency: "$380",
                            weekend: "$340",
                            notes: "School visits available"
                        },
                        medicalReport: {
                            basic: "$230",
                            detailed: "$380",
                            legal: "$580",
                            notes: "Educational assessments included"
                        },
                        assessment: {
                            psychological: "$330",
                            psychiatric: "$380",
                            comprehensive: "$580",
                            notes: "ADHD and autism assessments"
                        },
                        followUp: {
                            brief: "$90",
                            standard: "$140",
                            extended: "$190",
                            notes: "Parent consultations included"
                        },
                        telehealth: {
                            brief: "$75",
                            standard: "$110",
                            emergency: "$190",
                            notes: "After-school hours available"
                        },
                        workshops: {
                            group: "$45",
                            individual: "$140",
                            corporate: "$900",
                            notes: "Parenting workshops available"
                        }
                    }},
                    {name: "Dr. James Wilson", image: "/doctor4.jpg", fees: {
                        consultation: {
                            standard: "$170",
                            extended: "$230",
                            hourly: "$95",
                            notes: "Addiction specialist"
                        },
                        therapy: {
                            standard: "$210",
                            group: "$110",
                            family: "$260",
                            notes: "Substance abuse counseling"
                        },
                        homeVisit: {
                            standard: "$330",
                            emergency: "$430",
                            weekend: "$380",
                            notes: "Rehabilitation center visits"
                        },
                        medicalReport: {
                            basic: "$280",
                            detailed: "$430",
                            legal: "$630",
                            notes: "Court-mandated reports available"
                        },
                        assessment: {
                            psychological: "$380",
                            psychiatric: "$430",
                            comprehensive: "$630",
                            notes: "Addiction severity assessment"
                        },
                        followUp: {
                            brief: "$120",
                            standard: "$170",
                            extended: "$220",
                            notes: "Recovery monitoring"
                        },
                        telehealth: {
                            brief: "$90",
                            standard: "$130",
                            emergency: "$220",
                            notes: "Crisis intervention available"
                        },
                        workshops: {
                            group: "$60",
                            individual: "$170",
                            corporate: "$1200",
                            notes: "Addiction prevention programs"
                        }
                    }},
                    {name: "Dr. Aisha Patel", image: "/doctor5.jpg", fees: {
                        consultation: {
                            standard: "$155",
                            extended: "$210",
                            hourly: "$85",
                            notes: "Multilingual services available"
                        },
                        therapy: {
                            standard: "$195",
                            group: "$105",
                            family: "$245",
                            notes: "Cultural sensitivity focus"
                        },
                        homeVisit: {
                            standard: "$310",
                            emergency: "$410",
                            weekend: "$360",
                            notes: "Community outreach services"
                        },
                        medicalReport: {
                            basic: "$260",
                            detailed: "$410",
                            legal: "$610",
                            notes: "Multiple language options"
                        },
                        assessment: {
                            psychological: "$360",
                            psychiatric: "$410",
                            comprehensive: "$610",
                            notes: "Cultural context consideration"
                        },
                        followUp: {
                            brief: "$105",
                            standard: "$155",
                            extended: "$205",
                            notes: "Family-centered approach"
                        },
                        telehealth: {
                            brief: "$85",
                            standard: "$125",
                            emergency: "$205",
                            notes: "International time zones accommodated"
                        },
                        workshops: {
                            group: "$55",
                            individual: "$155",
                            corporate: "$1050",
                            notes: "Cultural competency training"
                        }
                    }},
                    {name: "Dr. Robert Kim", image: "/doctor6.jpg", fees: {
                        consultation: {
                            standard: "$165",
                            extended: "$225",
                            hourly: "$88",
                            notes: "Geriatric psychiatry specialist"
                        },
                        therapy: {
                            standard: "$205",
                            group: "$108",
                            family: "$255",
                            notes: "Memory care focus"
                        },
                        homeVisit: {
                            standard: "$325",
                            emergency: "$425",
                            weekend: "$375",
                            notes: "Nursing home visits"
                        },
                        medicalReport: {
                            basic: "$275",
                            detailed: "$425",
                            legal: "$625",
                            notes: "Capacity assessments"
                        },
                        assessment: {
                            psychological: "$375",
                            psychiatric: "$425",
                            comprehensive: "$625",
                            notes: "Dementia evaluation"
                        },
                        followUp: {
                            brief: "$115",
                            standard: "$165",
                            extended: "$215",
                            notes: "Caregiver support included"
                        },
                        telehealth: {
                            brief: "$88",
                            standard: "$128",
                            emergency: "$215",
                            notes: "Family conference available"
                        },
                        workshops: {
                            group: "$58",
                            individual: "$165",
                            corporate: "$1150",
                            notes: "Elder care education"
                        }
                    }},
                    {name: "Dr. Lisa Thompson", image: "/doctor7.jpg", fees: {
                        consultation: {
                            standard: "$145",
                            extended: "$195",
                            hourly: "$78",
                            notes: "Women's mental health focus"
                        },
                        therapy: {
                            standard: "$185",
                            group: "$98",
                            family: "$235",
                            notes: "Pregnancy and postpartum care"
                        },
                        homeVisit: {
                            standard: "$295",
                            emergency: "$395",
                            weekend: "$345",
                            notes: "New mother home visits"
                        },
                        medicalReport: {
                            basic: "$245",
                            detailed: "$395",
                            legal: "$595",
                            notes: "Pregnancy-related documentation"
                        },
                        assessment: {
                            psychological: "$345",
                            psychiatric: "$395",
                            comprehensive: "$595",
                            notes: "Hormone-related mood assessment"
                        },
                        followUp: {
                            brief: "$95",
                            standard: "$145",
                            extended: "$195",
                            notes: "Postpartum monitoring"
                        },
                        telehealth: {
                            brief: "$78",
                            standard: "$118",
                            emergency: "$195",
                            notes: "Flexible scheduling for mothers"
                        },
                        workshops: {
                            group: "$48",
                            individual: "$145",
                            corporate: "$950",
                            notes: "Pregnancy wellness programs"
                        }
                    }},
                    {name: "Dr. David Martinez", image: "/doctor8.jpg", fees: {
                        consultation: {
                            standard: "$175",
                            extended: "$235",
                            hourly: "$98",
                            notes: "Trauma specialist"
                        },
                        therapy: {
                            standard: "$215",
                            group: "$115",
                            family: "$265",
                            notes: "EMDR therapy available"
                        },
                        homeVisit: {
                            standard: "$335",
                            emergency: "$435",
                            weekend: "$385",
                            notes: "Safe environment visits"
                        },
                        medicalReport: {
                            basic: "$285",
                            detailed: "$435",
                            legal: "$635",
                            notes: "Trauma documentation"
                        },
                        assessment: {
                            psychological: "$385",
                            psychiatric: "$435",
                            comprehensive: "$635",
                            notes: "PTSD evaluation"
                        },
                        followUp: {
                            brief: "$125",
                            standard: "$175",
                            extended: "$225",
                            notes: "Trauma-informed care"
                        },
                        telehealth: {
                            brief: "$98",
                            standard: "$138",
                            emergency: "$225",
                            notes: "Secure virtual sessions"
                        },
                        workshops: {
                            group: "$65",
                            individual: "$175",
                            corporate: "$1250",
                            notes: "Trauma recovery programs"
                        }
                    }},
                    {name: "Dr. Rachel Green", image: "/doctor9.jpg", fees: {
                        consultation: {
                            standard: "$148",
                            extended: "$198",
                            hourly: "$82",
                            notes: "Eating disorder specialist"
                        },
                        therapy: {
                            standard: "$188",
                            group: "$102",
                            family: "$238",
                            notes: "Nutritional counseling included"
                        },
                        homeVisit: {
                            standard: "$298",
                            emergency: "$398",
                            weekend: "$348",
                            notes: "Meal support visits"
                        },
                        medicalReport: {
                            basic: "$248",
                            detailed: "$398",
                            legal: "$598",
                            notes: "Treatment progress reports"
                        },
                        assessment: {
                            psychological: "$348",
                            psychiatric: "$398",
                            comprehensive: "$598",
                            notes: "Eating disorder evaluation"
                        },
                        followUp: {
                            brief: "$98",
                            standard: "$148",
                            extended: "$198",
                            notes: "Recovery monitoring"
                        },
                        telehealth: {
                            brief: "$82",
                            standard: "$122",
                            emergency: "$198",
                            notes: "Virtual meal support"
                        },
                        workshops: {
                            group: "$52",
                            individual: "$148",
                            corporate: "$980",
                            notes: "Body image workshops"
                        }
                    }},
                    {name: "Dr. Thomas Anderson", image: "/doctor10.jpg", fees: {
                        consultation: {
                            standard: "$158",
                            extended: "$208",
                            hourly: "$86",
                            notes: "Sleep disorder specialist"
                        },
                        therapy: {
                            standard: "$198",
                            group: "$106",
                            family: "$248",
                            notes: "Sleep hygiene therapy"
                        },
                        homeVisit: {
                            standard: "$308",
                            emergency: "$408",
                            weekend: "$358",
                            notes: "Sleep environment assessment"
                        },
                        medicalReport: {
                            basic: "$258",
                            detailed: "$408",
                            legal: "$608",
                            notes: "Sleep study reports"
                        },
                        assessment: {
                            psychological: "$358",
                            psychiatric: "$408",
                            comprehensive: "$608",
                            notes: "Sleep pattern evaluation"
                        },
                        followUp: {
                            brief: "$108",
                            standard: "$158",
                            extended: "$208",
                            notes: "Sleep diary review"
                        },
                        telehealth: {
                            brief: "$86",
                            standard: "$126",
                            emergency: "$208",
                            notes: "Late night consultations"
                        },
                        workshops: {
                            group: "$56",
                            individual: "$158",
                            corporate: "$1080",
                            notes: "Sleep improvement programs"
                        }
                    }},
                    {name: "Dr. Maria Santos", image: "/doctor11.jpg", fees: {
                        consultation: {
                            standard: "$152",
                            extended: "$202",
                            hourly: "$84",
                            notes: "Anxiety specialist"
                        },
                        therapy: {
                            standard: "$192",
                            group: "$104",
                            family: "$242",
                            notes: "Mindfulness-based therapy"
                        },
                        homeVisit: {
                            standard: "$302",
                            emergency: "$402",
                            weekend: "$352",
                            notes: "Anxiety management at home"
                        },
                        medicalReport: {
                            basic: "$252",
                            detailed: "$402",
                            legal: "$602",
                            notes: "Anxiety assessment reports"
                        },
                        assessment: {
                            psychological: "$352",
                            psychiatric: "$402",
                            comprehensive: "$602",
                            notes: "Panic disorder evaluation"
                        },
                        followUp: {
                            brief: "$102",
                            standard: "$152",
                            extended: "$202",
                            notes: "Progress monitoring"
                        },
                        telehealth: {
                            brief: "$84",
                            standard: "$124",
                            emergency: "$202",
                            notes: "Panic attack support"
                        },
                        workshops: {
                            group: "$54",
                            individual: "$152",
                            corporate: "$1020",
                            notes: "Anxiety management workshops"
                        }
                    }}
                ];
                const doctor = doctors[index] || doctors[0]; // Fallback to first doctor if index exceeds array
                return (
                    <div class="group relative">
                        <div class="doctor-card bg-purple-900/30 rounded-2xl overflow-hidden backdrop-blur-sm transition-all duration-500 ease-in-out hover:shadow-lg hover:shadow-purple-500/20">
                            <button class="close-btn absolute top-2 right-2 bg-purple-500 text-white rounded-full w-8 h-8 flex items-center justify-center transition-all duration-500 ease-in-out z-50 hover:bg-purple-600 transform hover:scale-110 opacity-0">
                                âœ•
                            </button>
                            <img src={doctor.image} alt={doctor.name} class="w-full h-48 object-cover transition-transform duration-500 ease-in-out hover:scale-105">
                            <div class="p-4">
                                <h3 class="text-3xl font-bold text-white text-center mb-2 transition-colors duration-300 ease-in-out hover:text-purple-200">{doctor.name}</h3>
                                
                                <div class="fee-structure hidden opacity-0 transition-all duration-500 ease-in-out transform translate-y-4">
                                    <div class="text-gray-300 space-y-2 mt-4">
                                        {Object.entries(doctor.fees).map(([category, details]) => (
                                            <div class="fee-category">
                                                <button class="fee-toggle w-full flex justify-between items-center py-2 px-4 rounded-lg bg-purple-800/50 hover:bg-purple-700/50 transition-colors duration-300">
                                                    <span class="font-medium text-lg text-white">{category.charAt(0).toUpperCase() + category.slice(1)}</span>
                                                    <svg class="w-6 h-6 text-white transform transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
                                                    </svg>
                                                </button>
                                                <div class="fee-details max-h-0 overflow-hidden transition-all duration-500 ease-in-out mt-2 ml-4 space-y-2">
                                                    {Object.entries(details).map(([type, value]) => (
                                                        <div class="flex justify-between items-center text-base">
                                                            <span class="text-white font-bold text-lg">{type.charAt(0).toUpperCase() + type.slice(1)}:</span>
                                                            <span class="text-white font-bold text-lg">{value}</span>
                                                        </div>
                                                    ))}
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                )
            })}
        </div>

        <div id="modal-overlay" class="fixed inset-0 bg-black/50 hidden backdrop-blur-sm transition-all duration-500 ease-in-out"></div>

        <style>
            .doctor-card {
                box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
                border: 1px solid rgba(255, 255, 255, 0.1);
                cursor: pointer;
                transform: translateY(0);
                transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            }
            
            .doctor-card:hover {
                transform: translateY(-5px);
            }
            
            .doctor-card.active {
                position: fixed;
                inset: 2rem;
                margin: auto;
                max-width: 600px;
                max-height: 80vh;
                z-index: 50;
                background: rgba(88, 28, 135, 0.95);
                transform: scale(1);
                transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
                overflow-y: auto;
                scrollbar-width: none; /* Firefox */
                -ms-overflow-style: none; /* IE and Edge */
            }

            .doctor-card.active::-webkit-scrollbar {
                display: none; /* Chrome, Safari and Opera */
            }

            .doctor-card.active .fee-structure {
                display: block;
                opacity: 1;
                transform: translateY(0);
            }

            .doctor-card.active .close-btn {
                opacity: 1;
            }

            #modal-overlay.show {
                display: block;
                opacity: 1;
            }

            .fee-toggle.active svg {
                transform: rotate(45deg);
            }

            .fee-details {
                max-height: 0;
                opacity: 0;
                transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            }

            .fee-details.active {
                max-height: 500px;
                opacity: 1;
            }
        </style>

        <script>
            document.addEventListener('DOMContentLoaded', () => {
                const cards = document.querySelectorAll('.doctor-card');
                const closeBtns = document.querySelectorAll('.close-btn');
                const modalOverlay = document.getElementById('modal-overlay');

                const closeActiveCard = () => {
                    cards.forEach(card => {
                        (card as HTMLElement).style.transform = 'scale(0.95)';
                        setTimeout(() => {
                            card.classList.remove('active');
                            (card as HTMLElement).style.transform = '';
                        }, 100);
                    });
                    modalOverlay?.classList.remove('show');
                    document.body.style.overflow = 'auto';
                };

                cards.forEach(card => {
                    card.addEventListener('click', (e) => {
                        e.stopPropagation();
                        
                        if (!card.classList.contains('active')) {
                            closeActiveCard();
                            (card as HTMLElement).style.transform = 'scale(0.95)';
                            setTimeout(() => {
                                card.classList.add('active');
                                (card as HTMLElement).style.transform = 'scale(1)';
                                modalOverlay?.classList.add('show');
                                document.body.style.overflow = 'hidden';
                            }, 100);
                        }
                    });

                    // Add click handlers for fee toggles
                    card.querySelectorAll('.fee-toggle').forEach(toggle => {
                        toggle.addEventListener('click', (e) => {
                            e.stopPropagation();
                            
                            const details = toggle.nextElementSibling as HTMLElement;
                            const isExpanding = !toggle.classList.contains('active');
                            
                            // Close all other fee details in this card
                            const allToggles = card.querySelectorAll('.fee-toggle');
                            const allDetails = card.querySelectorAll('.fee-details');
                            
                            allToggles.forEach((t, index) => {
                                if (t !== toggle) {
                                    t.classList.remove('active');
                                    allDetails[index].classList.remove('active');
                                }
                            });

                            // Toggle the clicked fee details with animation
                            toggle.classList.toggle('active');
                            details.classList.toggle('active');
                        });
                    });
                });

                closeBtns.forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        closeActiveCard();
                    });
                });

                modalOverlay?.addEventListener('click', () => {
                    closeActiveCard();
                });
            });
        </script>
    </main>
    <Footer />
</Layout>