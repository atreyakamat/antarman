---
import Layout from '../layouts/HomeLayout.astro';
import Header from '../components/Header.astro';
import ParticleBG from "../components/ParticleBG.astro";
import Footer from '../components/Footer.astro';
import BlogGrid from '../components/BlogGrid.astro';

// Predefined list of psychologists
const psychologists = [
  "Interns 2019",
  "Meischa Cholera",
  "Ravindra Agrawal",
  "Saumitra Nemlekar"
];

// Get the selected psychologist from URL params
const selectedPsychologist = Astro.url.searchParams.get('psychologist');

---

<Layout title="Blogs | Antarman">
  <ParticleBG />
  <Header />
  <main class="relative">
    <div class="absolute inset-0 bg-gradient-to-b from-purple-900/50 via-purple-800/30 to-transparent"></div>
    <div class="relative z-10">
      <div class="container mx-auto px-6 py-16 text-center md:py-20 lg:px-0 lg:py-28">
        <h1 class="text-5xl font-extrabold leading-tight text-white md:text-6xl lg:text-7xl animate-fade-in">
          Our Blog Posts
        </h1>
        <p class="mx-auto mt-6 max-w-3xl text-xl text-purple-100 md:text-2xl animate-slide-up">
          Insights and Stories from Antarman
        </p>
        
        <!-- Psychologist Filter Buttons -->
        <div class="flex flex-wrap justify-center gap-4 mt-8">
          <a
            href="/blogs"
            class={`px-6 py-2 rounded-full transition-all duration-300 ${
              !selectedPsychologist
                ? 'bg-purple-600 text-white' 
                : 'bg-white/10 text-white hover:bg-purple-600'
            }`}
          >
            All
          </a>
          {psychologists.map(psychologist => (
            <a
              href={`/blogs?psychologist=${encodeURIComponent(psychologist)}`}
              class={`px-6 py-2 rounded-full transition-all duration-300 ${
                selectedPsychologist === psychologist
                  ? 'bg-purple-600 text-white' 
                  : 'bg-white/10 text-white hover:bg-purple-600'
              }`}
            >
              {psychologist}
            </a>
          ))}
        </div>
      </div>
    </div>
  </main>
  
  <div class="container mx-auto px-4">
    <BlogGrid selectedPsychologist={selectedPsychologist} />
  </div>

  <Footer />
</Layout>